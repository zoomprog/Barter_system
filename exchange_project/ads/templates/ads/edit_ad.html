{% extends "ads/base.html" %}
{% block title %}Редактировать {{ ad.title }} | Бартерная система{% endblock %}
{% block content %}
<h2>Редактировать объявление: {{ ad.title }}</h2>

{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

{% if form.errors %}
<div class="alert alert-error">
    <strong>Ошибки в форме:</strong>
    <ul>
        {% for field, errors in form.errors.items %}
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        {% endfor %}
    </ul>
</div>
{% endif %}

<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Обновить объявление
        </button>
        <a href="{% url 'ad_detail' pk=ad.pk %}" class="btn btn-secondary">
            <i class="fas fa-times"></i> Отмена
        </a>
        <a href="{% url 'delete_ad' pk=ad.pk %}" class="btn btn-danger">
            <i class="fas fa-trash"></i> Удалить объявление
        </a>
    </div>
</form>
{% endblock %}